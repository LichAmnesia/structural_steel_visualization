<!DOCTYPE html>
<html>
  <head>
    <title>Context Menu</title>
    <!-- <script src='node_modules/sql.js/js/sql.js'></script> -->
    <link rel="stylesheet" type="text/css" href="css/pure-min.css">
    <script type="text/javascript" src="spider.js"></script>
  </head>
  <body style="width: 100%; height: 100%;">
    <p>'Right Click' to show context menu.</p>
    <h1>Hello World!</h1>
    <div id="div1" style="display: none" mce_style="display: none">    
      <div id="table1"></div>        
    </div>   

    <table class="pure-table">
    <thead>
        <tr>
            <th>日期</th>
            <th>上海</th>
            <th>南京</th>
            <th>杭州</th>
            <th>镇江</th>
            <th>常州</th>
            <th>无锡</th>
            <th>苏州</th>
            <th>扬州</th>
        </tr>
    </thead>
    <tbody>
        <tr class="pure-table-odd">
            <td>1</td>
            <td>Honda</td>
            <td>Accord</td>
            <td>2009</td>
        </tr>

        <tr>
            <td>2</td>
            <td>Toyota</td>
            <td>Camry</td>
            <td>2012</td>
        </tr>

        </tbody>
    </table>



    <script>
        // 获取间隔几天的日期，n表示天数
        function showdate(n) 
        { 
            var uom = new Date(); 
            uom.setDate(uom.getDate() + n); 
            if (uom.getMonth() + 1 < 10){
                uom = uom.getFullYear() + "0" + (uom.getMonth()+1) + "" + (uom.getDate() < 10? "0" + uom.getDate(): uom.getDate()); 
            }else {
                uom = uom.getFullYear() + "" + (uom.getMonth()+1) + "" + (uom.getDate() < 10? "0" + uom.getDate(): uom.getDate()); 
            }
            return uom; 
        } 
        
        // 更新数据
        // 上海 南京 杭州 镇江 常州 无锡 苏州 扬州
        var city_list = ['shanghai','nanjing','hangzhou','zhenjiang','changzhou','jswuxi','suzhou','yangzhou'];
        for (var now_date = 2; now_date < 1; now_date += 1){
            for (var now_city = 0; now_city < city_list.length; now_city += 1){
                document.write('<br>', showdate(now_date), ' ', city_list[now_city]); 
                spider(city_list[now_city], showdate(now_date), saveSql);               
            }
        }
        

        // 填充表格
        function table() {
            if (document.getElementById("Num").value == "" || document.getElementById("Num").value.search("^[0-9]*$") == -1) {
                document.getElementById("errmsg1").style.display = "block";//判断Num是否为空或不是数字    提示错误
                document.getElementById("errmsg1").innerHTML = "提示信息：行数为空或不是数字！";
            }
            else {
                document.getElementById("errmsg1").style.display = "none";//隐藏提示信息
                var Num = parseInt(document.getElementById("Num").value); //获取行数           
                var flag = true;
                var data = "";
                data += " <table >";
                data += " <tr>" +
                            "<td >we are</td>" +
                            "<td >zhuzhu</td>" +
                            "<td >dudu</td>" +                            
                        "</tr>" ;
                for (var i = 1; i <= Num; i++) {                   
                    data += "<tr >";
                    data += "<td>" + i + "</td>";
                    data += "<td><input name='ColdDay"+i+"' type='text' class='input'></td>";
                    data += "<td><input name='ColdCureMethod"+i+"' type='text' class='input'></td>";                                  
                    data += "</tr>";
                }
                
                data += "</table>";
                document.getElementById("div1").style.display = "block";
                document.getElementById("table1").innerHTML = data;
            }
        } 
    </script>

  </body>
</html>